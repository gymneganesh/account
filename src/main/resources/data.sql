CREATE TABLE CURRENCY (
    CODE VARCHAR(3) NOT NULL PRIMARY KEY,
    DESCRIPTION VARCHAR(30) NOT NULL
);

CREATE TABLE CUSTOMER (
    ID NUMBER NOT NULL PRIMARY KEY,
    NAME VARCHAR(50) NOT NULL
);

CREATE TABLE ACCOUNT (
    ID NUMBER NOT NULL PRIMARY KEY,
    CUSTOMER_ID NUMBER NOT NULL,
    NAME VARCHAR(20) NOT NULL,
    TYPE VARCHAR(10) NOT NULL,
    CURRENCY VARCHAR(3) NOT NULL ,
    BALANCE NUMERIC(15,2) NOT NULL,
    FOREIGN KEY (CURRENCY) REFERENCES CURRENCY(CODE),
    FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMER(ID)
);

CREATE TABLE TRANSACTION(
    ID NUMBER NOT NULL PRIMARY KEY,
    ACCOUNT_ID NUMBER NOT NULL,
    VALUE_DATE DATE NOT NULL,
    TYPE VARCHAR(10) NOT NULL,
    AMOUNT NUMERIC(15,2) NOT NULL,
    DESCRIPTION VARCHAR(50) NOT NULL,
    FOREIGN KEY (ACCOUNT_ID) REFERENCES ACCOUNT(ID)
);


--Test data---


INSERT INTO CURRENCY(CODE, DESCRIPTION) VALUES ('AUD','CURRENCY FOR AUSTRALIA');
INSERT INTO CURRENCY(CODE, DESCRIPTION) VALUES ('JPY','CURRENCY FOR JAPAN');
INSERT INTO CURRENCY(CODE, DESCRIPTION) VALUES ('NZD','CURRENCY FOR NEW ZEALAND');

INSERT INTO CUSTOMER (ID, NAME) VALUES (1001, 'JAXON');
INSERT INTO CUSTOMER (ID, NAME) VALUES (1002, 'ANTHONY');

INSERT INTO ACCOUNT (ID, CUSTOMER_ID, NAME, TYPE, CURRENCY, BALANCE)
        VALUES (2001, 1001, '1001-SAVINGS','SAVINGS', 'AUD', 1000);
INSERT INTO ACCOUNT (ID, CUSTOMER_ID, NAME, TYPE, CURRENCY, BALANCE)
        VALUES (2002, 1001, '1001-CURRENT','CURRENT', 'NZD', 2011);
INSERT INTO ACCOUNT (ID, CUSTOMER_ID, NAME, TYPE, CURRENCY, BALANCE)
        VALUES (2003, 1001, '1001-CHEQUE','CHEQUE', 'JPY', 2022);
INSERT INTO ACCOUNT (ID, CUSTOMER_ID, NAME, TYPE, CURRENCY, BALANCE)
        VALUES (2004, 1002, '1002-SAVINGS','CURRENT', 'AUD', 3000);


INSERT INTO TRANSACTION (ID,ACCOUNT_ID,VALUE_DATE,TYPE,AMOUNT, DESCRIPTION)
    VALUES(3001,2001, '2023-02-12','CREDIT',1000,'TEST DESC');
INSERT INTO TRANSACTION(ID,ACCOUNT_ID,VALUE_DATE,TYPE,AMOUNT, DESCRIPTION)
    VALUES(3002,2002, '2023-02-12','CREDIT',1000,'TEST DESC');
INSERT INTO TRANSACTION(ID,ACCOUNT_ID,VALUE_DATE,TYPE,AMOUNT, DESCRIPTION)
    VALUES(3003,2001, '2023-02-12','CREDIT',1000,'TEST DESC');
INSERT INTO TRANSACTION (ID,ACCOUNT_ID,VALUE_DATE,TYPE,AMOUNT, DESCRIPTION)
    VALUES(3004,2001, '2023-02-12','CREDIT',1000,'TEST DESC');